<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Signal Detection Visualization</title>
    <meta name="description" content="">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.8/d3.min.js" charset="utf-8"></script>
	<script type="text/javascript" 
		src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	    MathJax.Hub.Config({
	        jax: ["input/TeX","output/HTML-CSS"],
	        displayAlign: "left"
	    });
	</script>
	
	<link rel="stylesheet" href="style.css" type="text/css" charset="utf-8"></link>
</head>

<body>

<p class="input">
	<table>
		<tr>
			<td>
				<div class="input" id="input1">
					<p>
					  <label class="input" for="mean1box">Mean: </label>
					  <input class="input inputbox" type="text" id="mean1box" size="6" value="0"/>
					</p>
					<p>
					  <label class="input" for="sigma1box">Standard deviation:</label>
					  <input class="input inputbox" type="text" id="sigma1box" size="6" value="1"/>
					</p>
				</div>
			</td>
			<td>
				<div class="input" id="input2">
					<p>
					  <label class="input" for="mean2box">Mean: </label>
					  <input class="input inputbox" type="text" id="mean2box" size="6" value="2"/>
					</p>
					<p>
					  <label class="input" for="sigma2box">Standard deviation:</label>
					  <input class="input inputbox" type="text" id="sigma2box" size="6" value="1"/>
					</p>
				</div>
			</td>
			<td>
				<div class="input" id="input-options">
				  <input class="input inputbox" type="checkbox" id="axisscalecheck" value="lock" checked>Scale axes</input>
				</div>
				<div class="input" id="input-options">
				  <label class="input" for="thresholdbox">Threshold:</label>
				  <input class="input inputbox" type="text" id="thresholdbox" size="6" value="1"/>
				</div>
			</td>
		</tr>
	</table>
</p>
<div id="col1">
	<div class="graph normalplot" id="graph1">
		<svg class="normalplot">
			<g class="graph-container">
				<path class="line curve curve1"></path>
				<path class="line curve curve2"></path>
				<line class="line threshold threshold-line"></line>
				<circle id="thresholdcontrol" class="control threshold threshold-line"></circle>
				<circle id="curve1control" class="curvecontrol control"></circle>
				<circle id="curve2control" class="curvecontrol control"></circle>
				<g class="x axis"></g>
				<g class="y axis"></g>
				<text class="normalplot-x-axis-label" text-anchor="middle">Criterion</text>
				<text class="normalplot-y-axis-label" text-anchor="middle">Probability</text>
			</g>
		</svg>
	</div>
	<div class="graph normalplot" id="graph3">
		<svg class="normalplot">
			<g class="graph-container">
				<path class="curve curve1-filled"></path>
				<path class="line curve curve1"></path>
				<path class="curve false-positive-curve"></path>
				<path class="curve curve2-filled"></path>
				<path class="line curve curve2"></path>
				<path class="curve false-negative-curve"></path>
				<line class="line threshold threshold-line"></line>		
				<g class="x axis"></g>
				<g class="y axis"></g>
				<text class="normalplot-x-axis-label" text-anchor="middle">Criterion</text>
				<text class="normalplot-y-axis-label" text-anchor="middle">Probability</text>
			</g>
		</svg>
	</div>
	<div class="graph normalplot" id="graph2">
		<svg class="normalplot">
			<g class="graph-container">
				<path class="curve curve2-filled"></path>
				<path class="line curve curve2"></path>
				<path class="curve false-negative-curve"></path>
				<path class="curve curve1-filled"></path>
				<path class="line curve curve1"></path>
				<path class="curve false-positive-curve"></path>
				<line class="line threshold threshold-line"></line>
				<g class="x axis"></g>
				<g class="y axis"></g>
				<text class="normalplot-x-axis-label" text-anchor="middle">Criterion</text>
				<text class="normalplot-y-axis-label" text-anchor="middle">Probability</text>
			</g>
		</svg>		
	</div>
</div>
<div id="col2">
	<table class="confusion-matrix">
		<thead>
			<tr class="no-border">
				<td>&nbsp;</td>
				<td class="border">noise + signal</td>
				<td class="border">noise</td>
			</tr>
		</thead>
		<tr class="border">
			<td class="border">classified signal</td>
			<td class="border"><span class="tp">TP: <span id=tpr></span></span></td>
			<td class="border"><span class="fp">FP: <span id=fpr></span></span></td>
		</tr>
		<tr class="border">
			<td class="border">classified no signal</td>
			<td class="border"><span class="fn">FN: <span id=fnr></span></span></td>
			<td class="border"><span class="tn">TN: <span id=tnr></span></span></td>
		</tr>
	</table>
	<p/>
	<div class="graph roc" id="roc">
		<svg class="roc roc-svg">
			<g class="roc roc-container">
				<line class="line roc-diagonal"></line>
				<path class="line roc-curve"></path>
				<circle id="threshold-marker" class="threshold"></circle>
				<line id="threshold-horiz" class="line threshold threshold-marker-line tp"></line>
				<line id="threshold-vert" class="line threshold threshold-marker-line fp"></line>
				<g class="roc roc-x-axis axis"></g>
				<g class="roc roc-y-axis axis"></g>
				<g class="roc roc-top-axis axis"></g>
				<g class="roc roc-right-axis axis"></g>
				<text class="roc-x-axis-label" text-anchor="middle">False Positive Rate</text>
				<text class="roc-y-axis-label" text-anchor="middle">True Positive Rate</text>
			</g>
		</svg>		
	</div>
</div>
<div id="bayes">
	<p>
	  <label class="input" for="baserate">Base Rate, \(P(Signal)\): </label>
	  <input class="input inputbox" type="text" id="baseratebox" size="6" value="0.5"/>
	</p>
	<p>$$P(Signal|Pos)=\frac{P(Pos|Signal)P(Signal)}{P(Pos|Signal)P(Signal)+P(Pos|!Signal)P(!Signal)}$$</p>
	<p>$$P(Signal|Pos)=\frac{\class{eq-tpr}{}\class{eq-baserate}{}}{\class{eq-tpr}{}\class{eq-baserate}{}+\class{eq-fpr}{}\class{eq-inverse-baserate}{}}$$</p>
</div>
<script type="text/javascript" src="main.js"></script>
</body>

</html>
